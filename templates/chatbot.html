<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AgriGuru - Smart Crop Recommender</title>
  <style>

    .video-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      object-fit: cover;
      z-index: -1;
    }

    body {
      font-family: Arial, sans-serif;
      background: #edf7f3;
      margin: 0;
      padding: 0;
    }
    header {
      background-color: #2e7d32;
      color: white;
      padding: 1rem;
      text-align: center;
    }
    h2 {
  text-align: center;
}
    main {
      /* text-align: center; */
      max-width: 700px;
      margin: 2rem auto;
      padding: 2rem;
      background: white;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    button {
      padding: 10px 20px;
      margin: 10px 5px;
      border: none;
      border-radius: 5px;
      background-color: #2e7d32;
      color: white;
      cursor: pointer;
    }

    .button-container {
  display: flex;
  justify-content: center;
  gap: 1rem; 
  margin-bottom: 2rem; 
    }

    #locationBox {
      font-size: 16px;
      margin-top: 10px;
    }
    select {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    .manual-form {
      display: none;
      margin-top: 20px;
    }
    .form-group label {
      font-weight: bold;
    }
  </style>
</head>
<body>

   <video class="video-bg" autoplay muted loop>
    <source src="grass.mp4" type="video/mp4" />
    Your browser does not support the video tag.
  </video>

  <header>
    <img src="./static/chatbot_logo.jpg" alt="AgriGuru Logo" style="width: 10%;"">
  </header>

  <main>
    <h2>Choose Location</h2>
    <div class="button-container">
    <button onclick="getCurrentLocation()">Use Current Location</button>
    <button onclick="showManualForm()">Enter Location Manually</button>
    </div>


    <div class="manual-form" id="manualForm">
      <div class="form-group">
        <label for="state">State:</label>
        <select id="state" disabled>
          <option selected>Tamil Nadu (தமிழ்நாடு)</option>
        </select>
      </div>

      <div class="form-group">
        <label for="district">District:</label>
        <select id="district" onchange="loadTaluks()">
          <option value="">-- Select District --</option>
        </select>
      </div>

      <div class="form-group">
        <label for="taluk">Taluk:</label>
        <select id="taluk" onchange="loadVillages()">
          <option value="">-- Select Taluk --</option>
        </select>
      </div>

      <div class="form-group">
        <label for="village">Village:</label>
        <select id="village">
          <option value="">-- Select Village --</option>
        </select>
      </div>

      <button onclick="submitManualLocation()" type="button" style="background-color:#1a751a; color:white; padding:8px 16px; border:none; border-radius:4px; margin-top:10px;">
  Submit
</button>
<div id="manualLocationResult" style="margin-top:15px;"></div>

    </div>

    <div id="locationBox" style="text-align: center" ;></div>
    <pre id="result" style="white-space: pre-wrap; background: #f8f8f8; padding: 1em; border-radius: 8px;"></pre>

    
  </main>

 <script>
  const locationData = {
    "Chennai (சென்னை)": {

        "Alandur (அலந்தூர்)": ["Kolapakkam (கோலப்பாக்கம்)",    "Moovarasampettai (மூவரசம்பேட்டை)",    "Mowlivakkam (மௌலிவாக்கம்)",        "Nanmangalam (நன்மங்கலம்)",    "Polichalur (பொழிச்சலூர்)",    "Tirusulam (திருசூலம்)"], 

        "Ambattur (அம்பத்தூர்)": ["Alathur (ஆலத்தூர்)",  "Arakkambakkam (அரக்கம்பாக்கம்)",  "Kadavur (கடவூர்)",  "Kilakondaiyur (கிளகொண்டையூர்)",  "Melpakkam (மெல்பாக்கம்)",  "Morai (மொராய்)",  "Palavedu (பாலவேடு)",  "Pammadukulam (பம்மதுகுளம்)",  "Pandeswaram (பண்டேஸ்வரம்)",  "Pothur (போதூர்)",  "Vellacheri (வேள்ளச்சேரி)",  "Vellanur (வேல்லானூர்)"],  

        "Aminjikarai (அமிஞ்சிகரை)": ["Aminjikarai (அமிஞ்சிகரை)",  "Arumbakkam (அரும்பக்கம்)",  "Vada Agaram (வட அகாரம்)",  "Chinnakudal (சின்ன குடல்)",  "Naduvankarai (நாடுவன்கரை)",  "Periyakudal (பெரியகுடல்)",  "Thirumangalam (திருமங்கலம்)",  "Koyambedu (கோயம்பேடு)",  "Sencheri (செஞ்சேரி)",  "Mullam (மூல்லம்)",  "Villivakkam (வில்லிவாக்கம்)"], 
     
        "Egmore (எக்மோர்)": ["Egmore North (எக்மோர் வடக்கு)",  "Egmore South (எக்மோர் தெற்கு)",  "Nungambakkam (நுங்கம்பாக்கம்)",  "Puliyur (புலியூர்)"],
     
        "Guindy (கிண்டி)": ["Adyar Part I (அடையார் பகுதி I)",  "Adyar Part II (அடையார் பகுதி II)",  "Government Farm, Adyar (அடையார் அரசு பண்ணை)",  "Ekkatuthangal (ஏக்கத்துத்தран்கல்)",  "Alandur (அலந்தூர்)",  "Guindy Park (கிண்டி பூங்கா)",  "Venkatapuram (வேங்கடபுரம்)",  "Kottur (கோட்டூர்)",  "Thyagaraya Nagar (தைகரைய நகர்)"],  
     
        "Madhavaram (மாதவரம்)": ["Kadirvedu (கதிர்வேடு)",  "Kosapur (கோசபுரம்)",  "Madhavaram (மாதவரம்)",  "Manjambakkam (மண்ஜம்பாக்கம்)",  "Mathur (மத்து)",  "Puthagaram (புதகாரம்)",  "Soorapattu (சூரபட்டு)",  "Chettimedu (செட்டிமேடு)",  "Puzhal (புழல்)",  "Vadaperumbakkam (வடப்பெரும்பாக்கம்)",  "Vilakkupattu (விளக்குபட்டு)"],

        "Maduravoyal (மதுரவாயல்)": ["Chettiaragaram (செட்டியாற்றகம்)",  "Maduravoyal (மதுரவாயல்)",  "Nolambur (நொலம்பூர்)",  "Sivapoodam (சிவபூடம்)",  "Thundalam (துந்தலம்)",  "Vanagaram (வணகரம்)",  "Karambakkam (கரம்பாக்கம்)",  "Nerkundram (நெர்குன்றம்)",  "Porur (போரூர்)",  "Ramapuram (ராமபுரம்)",  "Valasaravakkam (வசல சரவாக்கம்)",  "Adayalampattu (அடையலம்பட்டு)"], 

        "Mylapore (மயிலாப்பூர்)": ["Chintadripet (சிந்தாட்ரிபேட்டை)",  "Triplicane (திருச்செங்கம்)",  "Mylapore (மயிலாப்பூர்)", "Royapettah (ராயப்பேட்டை)"  ],
 
        "Perambur (பேரம்பூர்)": ["Kodungaiyur (கொடுங்கையூர்)", "Jambuli (ஜம்புலி)", "Selvoyil (செல்வயில்)",  "Erukancherry (ஏருக்கஞ்சேரி)",  "Perambur Part I (பேரம்பூர் பகுதி I)", "Sembium (செம்பியம்)", "Perambur Part II (பேரம்பூர் பகுதி II)", "Perambur Part III (பேரம்பூர் பகுதி III)"],
 
        "Purasawalkam (புரசைவாக்கம்)": ["Purasawalkam Part I (புரசைவாக்கம் பகுதி I)", "Purasawalkam Part II (புரசைவாக்கம் பகுதி II)", "Vepery (வீப்பெரி)","VOC Nagar (விஓசீ நகர்)" ],

        "Sholinganallur (சோழிங்கநல்லூர்)": [ "Karapakkam (கராப்பாக்கம்)",    "Kottivakkam (கோட்டிவாக்கம்)",    "Neelankarai (நீலகணரை)",    "Palavakkam (பாலவாக்கம்)",    "Perungudi (பெருங்குடி)",    "Ullagaram (உல்லாகரம்)",    "Okkiyam Thoraipakkam (ஒக்கியம் தோற்றப்பாக்கம்)",    "Madipakkam (மேடிப்பாக்கம்)",    "Semmancheri (செம்மஞ்சேரி)",    "Jaladampet (ஜலதம்பேட்டை)",    "Chemmancheri (செம்மஞ்சேரி)",    "Enchambakkam (எஞ்சம்பாக்கம்)",    "Chollinganallur‑1 (சோழிங்கநல்லூர்‑1)",    "Chollinganallur‑2 (சோழிங்கநல்லூர்‑2)",    "Pallikaranai (பல்லிக்கரணி)",    "Oggiyamduraipakkam (ஒக்கியம்துறைப்பாக்கம்)",    "Arasankalani (அரசன்கலனி)"],

        "Tiruvottiyur (திருவொற்றியூர்)": [ "Thiruvottiyur‑1 (திருவொற்றியூர்‑1)",    "Thiruvottiyur‑2 (திருவொற்றியூர்‑2)",    "Kathivakkam (கத்திவாக்கம்)",    "Ernavoor (ஏரநூரி)",    "Manali (மானலி)",    "Edayanchavadi‑I (எடையன்‌சாவடி‑I)",    "Edayanchavadi‑II (எடையன்‌சாவடி‑II)",    "Theyambakkam (தெய்யம்பாக்கம்)",    "Aamullaivayal (ஆமுள்ளைவாயல்)",    "Vaikkadu (வைக்காடு)",    "Sadayankuppam (சடாயங்குப்பம்)",    "Chinna Sekkadu (சின்ன சேக்காடு)",    "Kadapakkam (கடப்பாக்கம்)",    "Ariyalur (அரியலூர்)",    "Sathangadu (சாதங்காடு)",    "Elandancherry (எலந்தஞ்சேரி)"],

        "Tondiarpet (தொண்டையார்பேட்டை)": [    "Tondiarpet Part I (தொண்டையார்பேட்டை பகுதி I)",    "Tondiarpet Part II (தொண்டையார்பேட்டை பகுதி II)",    "Old Washermanpet (பழைய வாஷ்மேன்மென்பஸ்)",    "Royapuram (ராயபுரம்)"  ],
  
        "Velachery (வேளச்சேரி)": [    "Velachery Part I (வேளச்சேரி பகுதி I)",    "Velachery Part II (வேளச்சேரி பகுதி II)",    "Taramani (தாராமணி)",    "Thiruvanmiyur (திருவண்மியூர்)",    "Besant Nagar (பேசன்ட் நகர்)",    "Kalikundram (காலிகுண்டரம்)",    "Pallipattu (பள்ளிப்பட்டு)",    "Urur (உரூர்)"  ]
},

    "Kanchipuram (காஞ்சிபுரம்)": {
        "Kanchipuram (காஞ்சிபுரம்)": [    "Kanchipuram East (காஞ்சிபுரம் கிழக்கு)",    "Kanchipuram West (காஞ்சிபுரம் மேற்கு)",    "Enathur (ஏனாதூர்)",    "Kilambi (கிளாம்பி)",    "Orikkai (ஓரிக்கை)",    "Sembakkam (செம்பாக்கம்)"  ],
  
        "Uthiramerur (உத்திரமேரூர்)": [    "Uthiramerur Town (உத்திரமேரூர் நகரம்)",    "Melpakkam (மேற்பாக்கம்)",    "Kunnathur (குன்னத்தூர்)",    "Perumbakkam (பெரும்பாக்கம்)",    "Sirukalathur (சிறுகலத்தூர்)",    "Thirumukkoodal (திருமுக்கூடல்)"  ],
  
        "Sriperumbudur (ஸ்ரீபெரும்புதூர்)": [    "Sriperumbudur Town (ஸ்ரீபெரும்புதூர் நகரம்)",    "Sunguvarchatram (சுங்குவர்சத்திரம்)",    "Nemili (நெமிலி)",    "Padappai (படப்பை)",    "Manimangalam (மணிமங்கலம்)",    "Pennalur (பென்னலூர்)"  ],

        "Walajabad (வாலாஜாபாத்)": [    "Walajabad Town (வாலாஜாபாத் நகரம்)",    "Kavanur (காவனூர்)",    "Karaipettai (கரைப்பேட்டை)",    "Kottivakkam (கோட்டிவாக்கம்)",    "Aloor (ஆலூர்)",    "Melottivakkam (மேலோட்டிவாக்கம்)"  ]
},

    "Tiruvallur (திருவள்ளூர்)": {
    "Tiruvallur (திருவள்ளூர்)": ["Tiruvallur Town (திருவள்ளூர் நகரம்)", "Veppampattu (வெப்பம்பட்டு)", "Putlur (புத்லூர்)", "Kadambathur (கடம்பத்தூர்)", "Perumalpattu (பெருமாள்பட்டு)"],
    "Ponneri (பொன்னேரி)": ["Ponneri Town (பொன்னேரி நகரம்)", "Minjur (மின்ஜூர்)", "Anupampattu (அனுபம்பட்டு)", "Devadanam (தேவதானம்)", "Kattur (கட்டூர்)"],
    "Uthukkottai (உத்துக்கோட்டை)": ["Uthukkottai Town (உத்துக்கோட்டை நகரம்)", "Manavur (மனவூர்)", "Narasingapuram (நரசிங்கபுரம்)", "Thiruvalangadu (திருவாலங்காடு)", "Puduvoyal (புதுவோயல்)"],
    "Gummidipoondi (கும்மிடிப்பூண்டி)": ["Gummidipoondi Town (கும்மிடிப்பூண்டி நகரம்)", "Kavarapettai (கவரப்பேட்டை)", "Sathurangapattinam (சதுரங்கப்பட்டினம்)", "Arambakkam (அரம்பாக்கம்)", "Sullurpeta (சுள்ளூர்பேட்டை)"],
    "Avadi (ஆவடி)": ["Avadi Town (ஆவடி நகரம்)", "Annanoor (அன்னனூர்)", "Thirumullaivoyal (திருமுல்லைவாயல்)", "Sekkadu (செக்காடு)", "Pattabiram (பட்டாபிரம்)"],
    "Poonamallee (பூந்தமல்லி)": ["Poonamallee Town (பூந்தமல்லி நகரம்)", "Iyyappanthangal (ஐயப்பந்தாங்கல்)", "Kattupakkam (கட்டுப்பாக்கம்)", "Mangadu (மாங்காடு)", "Kolapakkam (கோலப்பாக்கம்)"],
    "Tiruttani (திருத்தணி)": ["Tiruttani Town (திருத்தணி நகரம்)", "Tiruvalangadu (திருவாலங்காடு)", "Arakkonam (அரக்கோணம்)", "Nagari (நாகரி)", "Pallipattu (பள்ளிப்பட்டு)"]
  },

   "Vellore (வேலூர்)": {
    "Vellore (வேலூர்)": ["Vellore City (வேலூர் நகரம்)", "Kalinjur (காலிஞ்சூர்)", "Sathuvachari (சத்துவாச்சாரி)", "Kangeyanallur (கங்கேயநல்லூர்)", "Bagayam (பாகையம்)"],
    "Katpadi (காட்பாடி)": ["Katpadi Town (காட்பாடி நகரம்)", "Viruthampet (விருத்தம்பேட்டை)", "Thottapalayam (தொட்டாபாளையம்)", "Sevur (சேவூர்)", "Konavattam (கோணவட்டம்)"],
    "Gudiyatham (குடியாத்தம்)": ["Gudiyatham Town (குடியாத்தம் நகரம்)", "Ambur (அம்பூர்)", "Melpatti (மேல்பட்டி)", "Peranambattu (பேரணம்பட்டு)", "Ramapuram (ராமாபுரம்)"],
    "Anaicut (ஆனைக்கட்டு)": ["Anaicut Town (ஆனைக்கட்டு நகரம்)", "Odugathur (ஓடுகத்தூர்)", "Pallikonda (பள்ளிகொண்டா)", "Konerikuppam (கோனேரிகுப்பம்)", "Varadhapalayam (வரதபாளையம்)"],
    "Arcot (ஆற்காடு)": ["Arcot Town (ஆற்காடு நகரம்)", "Kalavai (களவை)", "Timiri (திமிரி)", "Thimiri (திமிரி)", "Kottakuppam (கோட்டகுப்பம்)"],
    "Arakkonam (அரக்கோணம்)": ["Arakkonam Town (அரக்கோணம் நகரம்)", "Mosur (மோசூர்)", "Takkolam (தக்கோலம்)", "Rangapuram (ரங்கபுரம்)", "Thottapudhur (தொட்டாபுதூர்)"],
    "Walajapet (வாழப்பேட்டை)": ["Walajapet Town (வாழப்பேட்டை நகரம்)", "Melvisharam (மேல்விசாரம்)", "Melathur (மேலத்தூர்)", "Kalathur (களத்தூர்)", "Pachakuppam (பச்சகுப்பம்)"],
    "Sholingur (சோழிங்கூர்)": ["Sholingur Town (சோழிங்கூர் நகரம்)", "Thakkolam (தக்கோலம்)", "Kilnelli (கீழ்நெல்லி)", "Panapakkam (பனப்பாக்கம்)", "Thirumalpur (திருமால்பூர்)"]
  },
  "Ranipet (ராணிப்பேட்டை)": {
    "Arakkonam (அரக்கோணம்)": ["Arakkonam Town (அரக்கோணம் நகரம்)", "Mosur (மோசூர்)", "Nemili (நெமிலி)", "Sholingur (சோழிங்கூர்)", "Kilnelli (கீழ்நெல்லி)"],
    "Nemili (நெமிலி)": ["Nemili Town (நெமிலி நகரம்)", "Sirukarumbur (சிறுகரும்பூர்)", "Thimiri (திமிரி)", "Arumpakkam (அரும்பாக்கம்)", "Nayakaneri (நாயக்கநேரி)"],
    "Walajapet (வாழப்பேட்டை)": ["Walajapet Town (வாழப்பேட்டை நகரம்)", "Kalathur (களத்தூர்)", "Melvisharam (மேல்விசாரம்)", "Kottur (கோட்டூர்)", "Karugambathur (கருகம்பத்தூர்)"],
    "Arcot (ஆற்காடு)": ["Arcot Town (ஆற்காடு நகரம்)", "Sathambadi (சத்தம்பாடி)", "Timiri (திமிரி)", "Kalavai (களவை)", "Eraiyur (ஏரையூர்)"],
    "Sholingur (சோழிங்கூர்)": ["Sholingur Town (சோழிங்கூர் நகரம்)", "Thakkolam (தக்கோலம்)", "Perambakkam (பேரம்பாக்கம்)", "Veppampattu (வெப்பம்பட்டு)", "Thirumalpur (திருமால்பூர்)"],
    "Kalavai (களவை)": ["Kalavai Town (களவை நகரம்)", "Sathambadi (சத்தம்பாடி)", "Nemili (நெமிலி)", "Thimiri (திமிரி)", "Pudupadi (புதுப்பாடி)"],
    "Kaveripakkam (காவேரிப்பாக்கம்)": ["Kaveripakkam Town (காவேரிப்பாக்கம் நகரம்)", "Melvisharam (மேல்விசாரம்)", "Sathambadi (சத்தம்பாடி)", "Thakkolam (தக்கோலம்)", "Pudupadi (புதுப்பாடி)"]
  },

"Tiruvannamalai (திருவண்ணாமலை)": {
    "Tiruvannamalai (திருவண்ணாமலை)": [], "Chengam (செங்கம்)": [], "Kalasapakkam (களசபாக்கம்)": [], "Polur (போளூர்)": [],
    "Chetpet (செட்பேட்டை)": [], "Vandavasi (வந்தவாசி)": [], "Arani (ஆரணி)": [], "Jawadhu Hills (ஜவாது மலை)": []
  },
  "Villupuram (விழுப்புரம்)": {
    "Villupuram (விழுப்புரம்)": [], "Gingee (செங்கம்)": [], "Kandachipuram (கண்டாசிபுரம்)": [], "Tindivanam (திண்டிவனம்)": [],
    "Vanur (வானூர்)": [], "Vikravandi (விக்ரவாண்டி)": [], "Thiruvennainallur (திருவெண்ணெய்நல்லூர்)": []
  },
  "Cuddalore (கடலூர்)": {
    "Cuddalore (கடலூர்)": [], "Panruti (பான்ருட்டி)": [], "Kurinjipadi (குறிஞ்சிபாடி)": [], "Vriddhachalam (விருத்தாசலம்)": [],
    "Bhuvanagiri (புவனகிரி)": [], "Kattumannarkoil (கட்டுமன்னார்கோவில்)": [], "Chidambaram (சிதம்பரம்)": []
  },

"Pondicherry (புதுச்சேரி)": {
  "Pondicherry (புதுச்சேரி)": ["Lawspet (லாஸ்பெட்)", "Reddiarpalayam (ரெட்டியார்பாளையம்)", "Muthialpet (முத்தியால்பேட்டை)", "Orleanpet (ஓர்லியன்பேட்டை)", "Mudaliarpet (முதலியார்பேட்டை)"],
  "Ozhukarai (ஒழுக்கராய்)": ["Ellaipillaichavady (எல்லைப்பிள்ளைச்சாவடி)", "Mettupalayam (மெட்டுப்பாளையம்)", "Saram (சாரம்)", "Reddiarpalayam (ரெட்டியார்பாளையம்)", "Kurumbapet (குறும்பாபேட்டை)"],
  "Villianur (வில்லியனூர்)": ["Villianur (வில்லியனூர்)", "Mangalam (மங்கலம்)", "Koodapakkam (கூடப்பாக்கம்)", "Sedarapet (சேதராபேட்டை)", "Ariyur (அரியூர்)"],
  "Bahour (பாகூர்)": ["Bahour (பாகூர்)", "Kuruvinatham (குறுவிநதம்)", "Manapet (மானபெட்டை)", "Parikkalpattu (பரிக்கல்பட்டு)", "Sorabapet (சோறபாபேட்டை)"]
},

"Thanjavur (தஞ்சாவூர்)": {
  "Thanjavur (தஞ்சாவூர்)": ["Thanjavur Town (தஞ்சாவூர் நகரம்)", "Vallam (வள்ளம்)", "Nanjikottai (நஞ்சிக்கோட்டை)", "Melavasal (மேலவாசல்)", "Thittai (தித்தை)"],
  "Papanasam (பாபநாசம்)": ["Papanasam (பாபநாசம்)", "Ayyampettai (அய்யம்பேட்டை)", "Saliyamangalam (சாலியமங்கலம்)", "Marur (மரூர்)", "Thiruvalanjuli (திருவாலஞ்சூலி)"],
  "Orathanadu (ஓரத்தநாடு)": ["Orathanadu (ஓரத்தநாடு)", "Poyyundarkottai (பொய்யுந்தார்கோட்டை)", "Kandiyur (கண்டியூர்)", "Ukkadai (உக்கடை)", "Vadaseri (வடசேரி)"],
  "Thiruvaiyaru (திருவையாறு)": ["Thiruvaiyaru (திருவையாறு)", "Melattur (மேலத்தூர்)", "Budalur (புதலூர்)", "Thirupananthal (திருப்பனந்தாள்)", "Sathiyamangalam (சத்தியமங்கலம்)"],
  "Kumbakonam (கும்பகோணம்)": ["Kumbakonam (கும்பகோணம்)", "Swamimalai (ஸ்வாமிமலை)", "Dharasuram (தரசுரம்)", "Thiruvidaimarudur (திருவிடைமருதூர்)", "Natchiyar Koil (நாச்சியார் கோவில்)"],
  "Pattukkottai (பட்டுக்கோட்டை)": ["Pattukkottai (பட்டுக்கோட்டை)", "Madukkur (மதுக்கூர்)", "Adirampattinam (அதிராம்பட்டினம்)", "Veeriyankottai (வீரியன்கோட்டை)", "Manamelkudi (மானாமேல்குடி)"],
  "Peravurani (பேராவூரணி)": ["Peravurani (பேராவூரணி)", "Nadakudi (நாடக்குடி)", "Marungur (மருங்கூர்)", "Sendakkottai (செண்டக்கோட்டை)", "Aladikkumulai (அளடிக்குமுளை)"]
},

"Tiruvarur (திருவாரூர்)": {
  "Tiruvarur (திருவாரூர்)": ["Tiruvarur Town (திருவாரூர் நகரம்)", "Kodikkalpalayam (கொடிக்கல் பாலையம்)", "Nannilam (நன்னிலம்)", "Pulavankadu (புலவன்காடு)", "Kidaram (கிடாரம்)"],
  "Nannilam (நன்னிலம்)": ["Nannilam (நன்னிலம்)", "Thirumarugal (திருமருகல்)", "Kachanam (கச்சனம்)", "Mavoor (மவூர்)", "Thiruvarur East (திருவாரூர் கிழக்கு)"],
  "Kodavasal (கோடவாசல்)": ["Kodavasal (கோடவாசல்)", "Veeramangudi (வீரமங்குடி)", "Alangudi (அலங்குடி)", "Kachirayanallur (கச்சிராயநல்லூர்)", "Okkur (ஒக்கூர்)"],
  "Valangaiman (வளங்கைமான்)": ["Valangaiman (வளங்கைமான்)", "Kandiyur (கண்டியூர்)", "Thirupampuram (திருப்பம்புரம்)", "Thottavur (தோட்டவூர்)", "Thalikkottai (தளிக்கோட்டை)"],
  "Needamangalam (நீடமங்கலம்)": ["Needamangalam (நீடமங்கலம்)", "Kothavasal (கோத்தவாசல்)", "Vazhakudi (வாழக்குடி)", "Panangudi (பானங்குடி)", "Keeranur (கீரனூர்)"],
  "Mannargudi (மன்னார்குடி)": ["Mannargudi (மன்னார்குடி)", "Thiruthuraipoondi (திருத்துறைப்பூண்டி)", "Kottur (கோட்டூர்)", "Kottur-Melur (கோட்டூர்-மேலூர்)", "Vaduvur (வாதூவர்)"],
  "Thiruthuraipoondi (திருத்துறைப்பூண்டி)": ["Thiruthuraipoondi (திருத்துறைப்பூண்டி)", "Thalayamangalam (தலையமங்கலம்)", "Muthupet (முத்துப்பேட்டை)", "Thopputhurai (தொப்புத்துறை)", "Tillaivilagam (தில்லைவிலாகம்)"]
},

"Nagapattinam (நாகப்பட்டினம்)": {
  "Nagapattinam (நாகப்பட்டினம்)": ["Nagapattinam Town (நாகப்பட்டினம் நகரம்)", "Keezhvelur (கீழ்வேளூர்)", "Velankanni (வேளாங்கண்ணி)", "Therku Poigainallur (தெற்கு பொய்கைநல்லூர்)", "Kizhavanjore (கீழவஞ்சூர்)"],
  "Kilvelur (கீழ்வேளூர்)": ["Kilvelur (கீழ்வேளூர்)", "Serudur (சேருதூர்)", "Karuppur (கருப்பூர்)", "Nagoor (நாகூர்)", "Kandampuli (கந்தம்புலி)"],
  "Thirukkuvalai (திருக்குவளை)": ["Thirukkuvalai (திருக்குவளை)", "Thirukuvalai South (திருக்குவளை தெற்கு)", "Keezhaiyur (கீழையூர்)", "Akkarapettai (அக்கரப்பேட்டை)", "Nambiyar Nagar (நம்பியார் நகர்)"],
  "Vedaranyam (வேதாரண்யம்)": ["Vedaranyam (வேதாரண்யம்)", "Kodiyakarai (கொடிக்கரை)", "Pushpavanam (புஷ்பவனம்)", "Maruthur (மருதூர்)", "Thopputhurai (தொப்புத்துறை)"]
},

"Trichy (திருச்சி)": {
  "Tiruchirappalli (திருச்சிராப்பள்ளி)": ["Tiruchirappalli (திருச்சிராப்பள்ளி)", "Woraiyur (வெறையூர்)", "Srirangam (ஸ்ரீரங்கம்)", "K.K. Nagar (கே. கே. நகர்)", "Cantonment (கேன்டன்)"],
  "Srirangam (ஸ்ரீரங்கம்)": ["Srirangam (ஸ்ரீரங்கம்)", "Melur (மேலூர்)", "Kollidam (கொள்ளிடம்)", "Ariyamangalam (அரியமங்கலம்)", "Vayalur (வயலூர்)"],
  "Lalgudi (லால்குடி)": ["Lalgudi (லால்குடி)", "Pullambadi (புல்லம்பாடி)", "Perugamani (பெருகமணி)", "Sirugamani (சிறுகமணி)", "Anbil (அன்பில்)"],
  "Manapparai (மணப்பாறை)": ["Manapparai (மணப்பாறை)", "Vaiyampatti (வையம்பட்டி)", "Tovarankurichchi (தோவாரன்குறிச்சி)", "T. Pudupatti (டி. புடுப்பட்டி)", "Karur Main Road (கரூர் மெயின் ரோடு)"],
  "Musiri (முசிரி)": ["Musiri (முசிரி)", "Thottiyam (தொட்டியம்)", "T. R. Pattinam (டி.ஆர். பட்டினம்)", "Thuraiyur (துறையூர்)", "Sirugamani (சிறுகமணி)"],
  "Thottiyam (தொட்டியம்)": ["Thottiyam (தொட்டியம்)", "Kandiyar (கண்டியார்)", "Kollidam (கொள்ளிடம்)", "Pazhamaneri (பழமனேரி)", "Mangalam (மங்கலம்)"],
  "Thuraiyur (துறையூர்)": ["Thuraiyur (துறையூர்)", "Perumalmalai (பெருமாள் மலை)", "Mettupalayam (மெட்டுப்பாளையம்)", "Kannanur (கண்ணனூர்)", "Kovilpatti (கோவில்பட்டி)"]
},

"Karur (கரூர்)": {
  "Karur (கரூர்)": ["Karur (கரூர்)", "Thanthonimalai (தந்தோனிமலை)", "Rayanur (ராயனூர்)", "Kovai Road (கோவை ரோடு)", "Vengamedu (வெங்கமேடு)"],
  "K.Paramathi (கே. பரமத்தி)": ["K.Paramathi (கே. பரமத்தி)", "Sukkaliyur (சுக்கலியூர்)", "Thalapatti (தலபட்டி)", "Koyampalli (கோயம்பள்ளி)", "K. Kulithalai (கே. குளித்தலை)"],
  "Krishnarayapuram (கிருஷ்ணராயபுரம்)": ["Krishnarayapuram (கிருஷ்ணராயபுரம்)", "Vadaseri (வடசேரி)", "Thottakurichi (தொட்டக்குறிச்சி)", "Mayanur (மாயனூர்)", "Panapatti (பனபட்டி)"],
  "Kulithalai (குளித்தலை)": ["Kulithalai (குளித்தலை)", "Inamkulathur (இனாம்குளத்தூர்)", "Muthanampatti (முத்தானம்பட்டி)", "Vellottamparappu (வெல்லோட்டம்பாறப்பு)", "Thogamalai (தோகமலை)"]
},

"Ariyalur (அரியலூர்)": {
  "Ariyalur (அரியலூர்)": ["Ariyalur Town (அரியலூர் நகரம்)", "Jayankondam (ஜெயங்கொண்டம்)", "Udayarpalayam (உடையார்பாளையம்)", "Vengalur (வெங்கலூர்)", "Keezha Palur (கீழபாலூர்)"],
  "Udayarpalayam (உடையார்பாளையம்)": ["Udayarpalayam (உடையார்பாளையம்)", "Andimadam (ஆண்டிமடம்)", "Sathamangalam (சத்தாமங்கலம்)", "Varadarajanpettai (வரதராஜன்பேட்டை)", "Senthurai (செந்துறை)"],
  "Sendurai (செந்துறை)": ["Sendurai (செந்துறை)", "Viralimalai (விராளிமலை)", "Kodukkur (கொடுக்கூர்)", "Vadakku Ariyalur (வடக்கு அரியலூர்)", "Keelapalur (கீழபாலூர்)"]
},


"Perambalur (பெரம்பலூர்)": {
  "Perambalur (பெரம்பலூர்)": ["Perambalur Town (பெரம்பலூர் நகரம்)", "Labbaikudikadu (லப்பைக்குடிகாடு)", "Arumbavur (அரும்பாவூர்)", "Vepery (வெப்பேரி)", "Veppanthattai (வெப்பந்தட்டை)"],
  "Kunnam (குன்னம்)": ["Kunnam Town (குன்னம் நகரம்)", "Melappuliyur (மேலப்புலியூர்)", "Perali (பேராளி)", "Siruvachur (சிறுவச்சூர்)", "Keelapuliyur (கீழப்புலியூர்)"]
},

"Namakkal (நாமக்கல்)": {
  "Namakkal (நாமக்கல்)": ["Namakkal Town (நாமக்கல் நகரம்)", "Sendamangalam (செந்தமங்கலம்)", "Puduchatram (புதுச்சத்திரம்)", "Erumaipatti (எருமைப்பட்டி)", "Mohanur (மோகனூர்)"],
  "Rasipuram (ராசிபுரம்)": ["Rasipuram Town (ராசிபுரம் நகரம்)", "Velagoundampatti (வேளகொண்டம்பட்டி)", "Sithanampalayam (சித்தனம்பாளையம்)", "Thammampatti (தம்மம்பட்டி)", "Namagiripettai (நாமகிரிபேட்டை)"],
  "Tiruchengode (திருச்செங்கோடு)": ["Tiruchengode Town (திருச்செங்கோடு நகரம்)", "Paramathi Velur (பரமத்தி வேலூர்)", "Kumarapalayam (குமரபாளையம்)", "Eraly (ஈராளி)", "Kabilarmalai (கபிலர்மலை)"],
  "Kolli Hills (கொல்லி மலை)": ["Solakkadu (சோலக்காடு)", "Valappur (வளப்பூர்)", "Semmedu (செம்மேடு)", "Seekuparai (சீக்குப்பாறை)", "Gundani (குண்டாணி)"]
},

"Salem (சேலம்)": {
  "Salem (சேலம்)": ["Salem Town (சேலம் நகரம்)", "Ammapet (அம்மாபேட்டை)", "Shevapet (சேவாப்பேட்டை)", "Suramangalam (சூரமங்கலம்)", "Alagapuram (அழகாபுரம்)"],
  "Attur (அட்டூர்)": ["Attur Town (அட்டூர் நகரம்)", "Pethanaickenpalayam (பேத்தநாயக்கன்பாளையம்)", "Nallipalayam (நல்லிப்பாளையம்)", "Thammampatti (தம்மம்பட்டி)", "Panaimarathupatti (பனையமரத்துப்பட்டி)"],
  "Edappadi (எடப்பாடி)": ["Edappadi Town (எடப்பாடி நகரம்)", "Thevur (தேவூர்)", "Kavadikaranoor (கவடிகாரணூர்)", "Sankaridurg (சங்கரித்துறை)", "Sithampadi (சித்தம்பாடி)"],
  "Mettur (மெத்தூர்)": ["Mettur Dam (மெத்தூர் அணை)", "Kolathur (கோலத்தூர்)", "Pannavadi (பன்னவாடி)", "Nerinjipettai (நெறிஞ்சிபேட்டை)", "Karungalpatti (கருங்கல்பட்டி)"],
  "Omalur (ஓமலூர்)": ["Omalur Town (ஓமலூர் நகரம்)", "Tharamangalam (தாரமங்கலம்)", "Panaimarathupatti (பனையமரத்துப்பட்டி)", "Sithanur (சித்தனூர்)", "Thulukkanur (துளுக்கனூர்)"],
  "Sankari (சங்கரி)": ["Sankari Town (சங்கரி நகரம்)", "Magudanchavadi (மகுடஞ்சாவடி)", "Koneripatti (கோனேரிப்பட்டி)", "Ariyanoor (அரியனூர்)", "Kadayanallur (கடையநல்லூர்)"],
  "Yercaud (ஏற்காடு)": ["Yercaud Hills (ஏற்காடு மலை)", "Nagalur (நாகலூர்)", "Kottachedu (கொட்டச்சேடு)", "Manjakuttai (மஞ்சக்குட்டை)", "Semmanatham (செம்மனத்தம்)"]
},

"Dharmapuri (தர்மபுரி)": {
  "Dharmapuri (தர்மபுரி)": ["Dharmapuri Town (தர்மபுரி நகரம்)", "Nallampalli (நல்லம்பள்ளி)", "Papparapatti (பப்பாரப்பட்டி)", "Kambainallur (கம்பைநல்லூர்)", "Adhiyamankottai (அதியமன்கோட்டை)"],
  "Harur (ஹரூர்)": ["Harur Town (ஹரூர் நகரம்)", "Papparapatti (பப்பரப்பட்டி)", "Morappur (மொறப்பூர்)", "Kottapatti (கோட்டப்பட்டி)", "Govindhapuram (கோவிந்தபுரம்)"],
  "Palacode (பாலக்கோடு)": ["Palacode Town (பாலக்கோடு நகரம்)", "Jevargi (ஜேவர்கி)", "Thoppur (தோப்பூர்)", "Thangayur (தங்காயூர்)", "Marandahalli (மரந்தஹல்லி)"],
  "Pennagaram (பென்னாகரம்)": ["Pennagaram Town (பென்னாகரம் நகரம்)", "Salamarathupatti (சலமரத்துப்பட்டி)", "Chikkarampalayam (சிக்காரம்பாளையம்)", "Nallampalli (நல்லம்பள்ளி)", "Gopalpatti (கோபால்பட்டி)"],
  "Pappireddipatti (பப்பீரெட்டிப்பட்டி)": ["Pappireddipatti Town (பப்பீரெட்டிப்பட்டி நகரம்)", "Mallapuram (மல்லாபுரம்)", "Kethureddipatti (கேதுரெட்டிப்பட்டி)", "Kongavembu (கொங்கவெம்பு)", "Sengodampatti (செங்கோதம்பட்டி)"]
},

"Krishnagiri (கிருஷ்ணகிரி)": {
  "Krishnagiri (கிருஷ்ணகிரி)": ["Krishnagiri Town (கிருஷ்ணகிரி நகரம்)", "Uthangarai (உத்தங்கரை)", "Kaveripattinam (காவேரிப்பட்டிணம்)", "Mathur (மத்தூர்)", "Veppanapalli (வெப்பனப்பள்ளி)"],
  "Hosur (ஓசூர்)": ["Hosur Town (ஓசூர் நகரம்)", "Bagalur (பாகலூர்)", "Thally (தாளி)", "Denkanikottai (தேன்கனிக்கோட்டை)", "Berigai (பேரிகை)"],
  "Denkanikottai (தேன்கனிக்கோட்டை)": ["Denkanikottai Town (தேன்கனிக்கோட்டை நகரம்)", "Kelamangalam (கேலமங்கலம்)", "Marudanapalli (மருதனப்பள்ளி)", "Thally (தாளி)", "Akkur (அக்கூர்)"],
  "Uthangarai (உத்தங்கரை)": ["Uthangarai Town (உத்தங்கரை நகரம்)", "Singarapettai (சிங்காரப்பேட்டை)", "Samalpatti (சமல்பட்டி)", "Kandili (கண்டிலி)", "Bargur (பர்கூர்)"],
  "Pochampalli (பொச்சம்பள்ளி)": ["Pochampalli Town (பொச்சம்பள்ளி நகரம்)", "Veppanapalli (வெப்பனப்பள்ளி)", "Mathur (மத்தூர்)", "Kaveripattinam (காவேரிப்பட்டிணம்)", "Periyamanali (பெரியமனலி)"]
},
    "Erode (ஈரோடு)": {
  "Erode (ஈரோடு)": ["Erode Town (ஈரோடு நகரம்)", "Veerappanchatram (வீரப்பன்சத்திரம்)", "Surampatti (சுரம்பட்டி)", "Karungalpalayam (கருங்கல் பாலையம்)", "Thindal (திந்தல்)"],
  "Perundurai (பேருந்துறை)": ["Perundurai (பேருந்துறை)", "Chennimalai (சென்னிமலை)", "Nasiyanur (நாசியனூர்)", "Kanjikovil (கஞ்சிகோவில்)", "Kaspapettai (கஸ்பாபேட்டை)"],
  "Gobichettipalayam (கொப்பிச்செட்டிப்பாளையம்)": ["Gobichettipalayam (கொப்பிச்செட்டிப்பாளையம்)", "Sathy (சத்தி)", "Kolappalur (கோலப்பலூர்)", "Anthiyur (அந்தியூர்)", "Thalavadi (தளவாடி)"],
  "Sathyamangalam (சத்தியமங்கலம்)": ["Sathyamangalam (சத்தியமங்கலம்)", "Thalavadi (தளவாடி)", "Kembanaickenpalayam (கெம்பநாயக்கன்பாளையம்)", "Moolapalayam (மூலப்பாளையம்)", "Pullampalayam (புல்லம்பாளையம்)"],
  "Bhavani (பவானி)": ["Bhavani (பவானி)", "Komarapalayam (கோமரபாளையம்)", "Pallipalayam (பள்ளிபாளையம்)", "Athani (ஆத்தாணி)", "Sankari (சங்கரி)"],
  "Kodumudi (கொடுமுடி)": ["Kodumudi (கொடுமுடி)", "Unjalur (உஞ்சலூர்)", "Pasur (பாசூர்)", "Kandikattuvalasu (கண்டிகட்டுவளசு)", "Pudhupalayam (புதுப்பாளையம்)"],
  "Modakurichi (மோடக்குறிச்சி)": ["Modakurichi (மோடக்குறிச்சி)", "Chithode (சித்தோடு)", "Kavindapadi (கவிண்டப்பாடி)", "Elumathur (எளுமத்தூர்)", "Arachalur (அரச்சலூர்)"]
},

"Coimbatore (கோயம்புத்தூர்)": {
  "Coimbatore North (கோயம்புத்தூர் வடக்கு)": ["Goundampalayam (கௌண்டம்பாளையம்)", "Saibaba Colony (சாய்பாபா காலனி)", "Ganapathy (கணபதி)", "Peelamedu (பீளமேடு)", "Chil Sez (சில் செஸ்)"],
  "Coimbatore South (கோயம்புத்தூர் தெற்கு)": ["Podanur (போதனூர்)", "Sundarapuram (சுந்தரபுரம்)", "Ukkadam (உக்கடம்)", "Ramanathapuram (ராமநாதபுரம்)", "Townhall (டவுன்ஹால்)"],
  "Pollachi (பொள்ளாச்சி)": ["Pollachi (பொள்ளாச்சி)", "Udumalpet (உடுமல்பேட்டை)", "Kottur (கோட்டூர்)", "Sundarapalayam (சுந்தரப்பாளையம்)", "Kinathukadavu (கிணத்துக்கடவு)"],
  "Mettupalayam (மெட்டுப்பாளையம்)": ["Mettupalayam (மெட்டுப்பாளையம்)", "Karamadai (கரமடை)", "Sirumugai (சிறுமுகை)", "Belladhi (பெல்லாதி)", "Geddai (கெட்டை)"],
  "Annur (அண்ணூர்)": ["Annur (அண்ணூர்)", "Karumathampatti (கருமத்தம்பட்டி)", "Sulur (சூலூர்)", "Avinashi Road (அவிநாசி ரோடு)", "Mopperipalayam (மொப்பெரிப்பாளையம்)"],
  "Sulur (சூலூர்)": ["Sulur (சூலூர்)", "Irugur (இருகூர்)", "Kangayampalayam (காங்கயம்பாளையம்)", "Ondipudur (ஒண்டிபுதூர்)", "Singanallur (சிங்காநல்லூர்)"]
},

"Tiruppur (திருப்பூர்)": {
  "Tiruppur (திருப்பூர்)": ["Tiruppur North (திருப்பூர் வடக்கு)", "Tiruppur South (திருப்பூர் தெற்கு)", "Mangalam (மங்கலம்)", "Nallur (நல்லூர்)", "Veerapandi (வீரபாண்டி)"],
  "Avinashi (அவிநாசி)": ["Avinashi (அவிநாசி)", "Palladam (பள்ளடம்)", "Thekkalur (தெக்கலூர்)", "Karumathampatti (கருமத்தம்பட்டி)", "Kannampalayam (கண்ணம்பாளையம்)"],
  "Dharapuram (தாராபுரம்)": ["Dharapuram (தாராபுரம்)", "Uthiyur (உத்தியூர்)", "Mulanur (மூலனூர்)", "Kundadam (குண்டாடம்)", "Kottathurai (கோத்ததுரை)"],
  "Kundadam (குண்டாடம்)": ["Kundadam (குண்டாடம்)", "Modakkurichi (மோடக்குறிச்சி)", "Mulanur (மூலனூர்)", "Kallappalayam (கல்லப்பாளையம்)", "Koduvai (கொடுவாய்)"],
  "Madathukulam (மாதத்துகுளம்)": ["Madathukulam (மாதத்துகுளம்)", "Chinnalapatti (சின்னலபட்டி)", "Kombupalayam (கொம்புப்பாளையம்)", "Pongalur (பொங்கலூர்)", "Veerapandi (வீரபாண்டி)"]
},

"Dindigul (திண்டுக்கல்)": {
  "Dindigul (திண்டுக்கல்)": ["Dindigul Town (திண்டுக்கல் நகரம்)", "Begampur (பேகம்பூர்)", "MS Nagar (எம்எஸ் நகர்)", "Palani Road (பழனி சாலை)", "Agraharam (அக்கிரஹாரம்)"],
  "Oddanchatram (ஒட்டன்சத்திரம்)": ["Oddanchatram (ஒட்டன்சத்திரம்)", "Chinnalapatti (சின்னலபட்டி)", "Reddiyarchatram (ரெட்டியார்சத்திரம்)", "Gandhigram (காந்திகிராம்)", "Kallimandayam (கல்லிமண்டையம்)"],
  "Nilakottai (நிலக்கோட்டை)": ["Nilakottai (நிலக்கோட்டை)", "Sevvapet (சேவப்பேட்டை)", "Ayyampalayam (அய்யம்பாளையம்)", "Vadamadurai (வடமதுரை)", "Pannaikadu (பண்ணைகாடு)"],
  "Vedasandur (வேதசந்தூர்)": ["Vedasandur (வேதசந்தூர்)", "Vellodu (வெல்லோடு)", "Sirumalai (சிறுமலை)", "Thadikombu (தடிகொம்பு)", "Vadamadurai (வடமதுரை)"],
  "Natham (நத்தம்)": ["Natham (நத்தம்)", "Athoor (அத்தூர்)", "Vembarpatti (வெம்பார்பட்டி)", "Keeranur (கீரனூர்)", "Periyakottai (பெரியகோட்டை)"],
  "Palani (பழனி)": ["Palani (பழனி)", "Thoppampatti (தோப்பம்பட்டி)", "Ayakudi (ஆயக்குடி)", "Pethanaickenpalayam (பேத்தநாயக்கன்பாளையம்)", "Idumban (இடும்பன்)"]
},

"Madurai (மதுரை)": {
  "Madurai North (மதுரை வடக்கு)": ["Sellur (செல்லூர்)", "Anna Nagar (அண்ணா நகர்)", "Simmakkal (சிம்மக்கல்)", "K. K. Nagar (கே. கே. நகர்)", "B.B. Kulam (பி.பி.குளம்)"],
  "Madurai South (மதுரை தெற்கு)": ["Thiruparankundram (திருப்பரங்குன்றம்)", "Palanganatham (பாளங்காநத்தம்)", "Tirunagar (திருநகர்)", "Thirunagar Colony (திருநகர் காலனி)", "Kalavasal (களவாசல்)"],
  "Melur (மேலூர்)": ["Melur Town (மேலூர் நகரம்)", "Cholavandan (சோழவந்தான்)", "Kottampatti (கோட்டம்பட்டி)", "Pappapatti (பப்பாபட்டி)", "Thiruppachetti (திருப்பச்செட்டி)"],
  "Thirumangalam (திருமங்கலம்)": ["Thirumangalam Town (திருமங்கலம் நகரம்)", "Sivarakkottai (சிவரக்கோட்டை)", "Chekkanoorani (செக்கனூரணி)", "Peraiyur (பெரையூர்)", "Karumathur (கருமத்தூர்)"],
  "Usilampatti (உசிலம்பட்டி)": ["Usilampatti Town (உசிலம்பட்டி நகரம்)", "Sedapatti (சேடப்பட்டி)", "Kallikudi (கல்லிகுடி)", "Elumalai (எளுமலை)", "Vikkiramangalam (விக்கிரமங்கலம்)"],
  "Vadipatti (வடிப்பட்டி)": ["Vadipatti Town (வடிப்பட்டி நகரம்)", "Alanganallur (அலங்காநல்லூர்)", "Vadivelkarai (வடிவேல்கரை)", "Samayanallur (சமயநல்லூர்)", "Keelavalavu (கீழவளவு)"]
},

"Sivagangai (சிவகங்கை)": {
  "Sivagangai (சிவகங்கை)": ["Sivagangai Town (சிவகங்கை நகரம்)", "Kollangudi (கொல்லங்குடி)", "Kattanipatti (கட்டாணிப்பட்டி)", "Veeramangalam (வீரமங்கலம்)", "Vairavanpatti (வையிரவன்பட்டி)"],
  "Manamadurai (மாணமதுரை)": ["Manamadurai Town (மாணமதுரை நகரம்)", "Kallal (கல்லல்)", "Tiruppuvanam (திருப்புவனம்)", "Thiruppachetti (திருப்பச்செட்டி)", "T. Karaikudi (டி. காரைக்குடி)"],
  "Ilayangudi (இளையான்குடி)": ["Ilayangudi Town (இளையான்குடி நகரம்)", "Kalayarkoil (கலையார்கோவில்)", "Thiruppuvanam (திருப்புவனம்)", "Pudukottai (புதுக்கோட்டை)", "Vairavapuram (வையிரவபுரம்)"],
  "Karaikudi (காரைக்குடி)": ["Karaikudi Town (காரைக்குடி நகரம்)", "Kottaiyur (கோட்டையூர்)", "Puliyur (புலியூர்)", "Pillayarpatti (பிள்ளையார்பட்டி)", "Kandanur (கண்டனூர்)"],
  "Tiruppattur (திருப்பத்தூர்)": ["Tiruppattur Town (திருப்பத்தூர் நகரம்)", "Aranthangi (அரந்தாங்கி)", "Kottur (கோட்டூர்)", "Keelavalavu (கீழவளவு)", "Ponnamaravathi (பொன்னமராவதி)"]
},

"Ramanathapuram (ராமநாதபுரம்)": {
  "Ramanathapuram (ராமநாதபுரம்)": ["Ramanathapuram Town (ராமநாதபுரம் நகரம்)", "Thiruvadanai (திருவாடானை)", "Chittarkottai (சித்தர்கோட்டை)", "Muthupettai (முத்துபேட்டை)", "Thondi (தொண்டி)"],
  "Paramakudi (பரமக்குடி)": ["Paramakudi Town (பரமக்குடி நகரம்)", "Mudukulathur (முடுகுலத்தூர்)", "Kamuthi (கமுதி)", "Kadaladi (கடலாடி)", "Sayalkudi (சாயல்குடி)"],
  "Mudukulathur (முடுகுலத்தூர்)": ["Mudukulathur Town (முடுகுலத்தூர் நகரம்)", "Kadaladi (கடலாடி)", "Thiruppullani (திருப்புல்லாணி)", "Emaneswaram (ஏமனேஸ்வரம்)", "Vallal (வல்லல்)"],
  "Kadaladi (கடலாடி)": ["Kadaladi Town (கடலாடி நகரம்)", "Seyyalur (செய்யலூர்)", "Nainarkoil (நைனார்கோவில்)", "Vembar (வேம்பார்)", "Mudukulathur South (முடுகுலத்தூர் தெற்கு)"]
},

"Virudhunagar (விருதுநகர்)": {
  "Virudhunagar (விருதுநகர்)": ["Virudhunagar Town (விருதுநகர் நகரம்)", "Kariapatti (கரியாபட்டி)", "Arupukottai Road (அருப்புக்கோட்டை சாலை)", "Muthukulathur (முத்துகுளத்தூர்)", "Maraneri (மாரனேரி)"],
  "Aruppukkottai (அருப்புக்கோட்டை)": ["Aruppukkottai Town (அருப்புக்கோட்டை நகரம்)", "Kovilpatti (கோவில்பட்டி)", "Vilathikulam (விலாத்திகுளம்)", "Pudur (புதூர்)", "Nallur (நல்லூர்)"],
  "Rajapalayam (ராஜபாளையம்)": ["Rajapalayam Town (ராஜபாளையம் நகரம்)", "Sankarankovil (சங்கரன்கோவில்)", "Srivilliputhur (திருவில்லிபுத்தூர்)", "Alangulam (அலங்குளம்)", "Puliyangudi (புளியங்குடி)"],
  "Sattur (சாத்தூர்)": ["Sattur Town (சாத்தூர் நகரம்)", "Kovilpatti (கோவில்பட்டி)", "Elayirampannai (இளையிராம்பண்ணை)", "Kadambur (கடம்பூர்)", "Ettayapuram (எட்டயாபுரம்)"],
  "Sivakasi (சிவகாசி)": ["Sivakasi Town (சிவகாசி நகரம்)", "Thiruthangal (திருத்தங்கல்)", "Vembakottai (வேம்பக்கோட்டை)", "Sattur South (சாத்தூர் தெற்கு)", "Alangulam (அலங்குளம்)"]
},

"Thoothukudi (தூத்துக்குடி)": {
  "Thoothukudi (தூத்துக்குடி)": ["Thoothukudi Town (தூத்துக்குடி நகரம்)", "Millerpuram (மில்லர்புரம்)", "Pudukottai (புதுக்கோட்டை)", "Tiruchendur Road (திருச்செந்தூர் சாலை)", "New Colony (புதிய காலனி)"],
  "Tiruchendur (திருச்செந்தூர்)": ["Tiruchendur Town (திருச்செந்தூர் நகரம்)", "Kayalpattinam (காயல்பட்டினம்)", "Arumuganeri (அருமுகநேரி)", "Udangudi (உடன்குடி)", "Kulasekarapattinam (குலசேகரப்பட்டினம்)"],
  "Kovilpatti (கோவில்பட்டி)": ["Kovilpatti Town (கோவில்பட்டி நகரம்)", "Kadambur (கடம்பூர்)", "Illuppaiyurani (இலுப்பையூரணி)", "Kalugumalai (கழுகுமலை)", "Ayyanarkoil (அய்யனார்கோவில்)"],
  "Ettayapuram (எட்டயாபுரம்)": ["Ettayapuram Town (எட்டயாபுரம் நகரம்)", "Pasuvandanai (பசுவந்தனை)", "Pudur (புதூர்)", "Sayapuram (சாயபுரம்)", "Vilampatti (விலம்பட்டி)"],
  "Vilathikulam (விலாத்திகுளம்)": ["Vilathikulam Town (விலாத்திகுளம் நகரம்)", "Nedungulam (நெடுங்குளம்)", "Pudupatti (புதுப்பட்டி)", "Vembar (வேம்பார்)", "Perungulam (பெருங்குளம்)"]
},

"Tirunelveli (திருநெல்வேலி)": {
  "Tirunelveli (திருநெல்வேலி)": ["Tirunelveli Town (திருநெல்வேலி நகரம்)", "Melapalayam (மேலப்பாளையம்)", "Palayamkottai (பாளையங்கோட்டை)", "Keezha Ambur (கீழஅம்பூர்)", "KTC Nagar (கேடிசி நகர்)"],
  "Palayamkottai (பாளையங்கோட்டை)": ["Palayamkottai Town (பாளையங்கோட்டை நகரம்)", "Tenkasi Road (தென்காசி சாலை)", "Sankar Nagar (சங்கர் நகர்)", "Murugankurichi (முருகன்குறிச்சி)", "Veeravanallur (வீரவனல்லூர்)"],
  "Sankarankovil (சங்கரன்கோவில்)": ["Sankarankovil Town (சங்கரன்கோவில் நகரம்)", "Thiruvenkatanathapuram (திருவேங்கடநாதபுரம்)", "Kuruvikulam (குறுவிக்குளம்)", "Alangulam (அலங்குளம்)", "Sivagiri (சிவகிரி)"],
  "Ambasamudram (அம்பாசமுத்திரம்)": ["Ambasamudram Town (அம்பாசமுத்திரம் நகரம்)", "Cheranmahadevi (சேரன்மகாதேவி)", "Kallidaikurichi (கல்லிடைகுறிச்சி)", "Alwarkurichi (ஆழ்வார்குறிச்சி)", "Kodaganallur (கொடகநல்லூர்)"],
  "Cheranmahadevi (சேரன்மகாதேவி)": ["Cheranmahadevi Town (சேரன்மகாதேவி நகரம்)", "Vikramasingapuram (விக்ரமசிங்கபுரம்)", "Papanasam (பாபநாசம்)", "Ambur (அம்பூர்)", "Mukkudal (முக்குடல்)"]
},

"Nilgiris (நீலகிரி)": {
  "Udhagamandalam (உதகமண்டலம்)": ["Ooty Town (ஊட்டி நகரம்)", "Fern Hill (ஃபெர்ன் ஹில்)", "Elk Hill (எல்க் ஹில்)", "Kandal (கண்டல்)", "Fingerpost (பிங்கர்போஸ்ட்)"],
  "Coonoor (குனூர்)": ["Coonoor Town (குனூர் நகரம்)", "Sim's Park (சிம்ஸ் பூங்கா)", "Brooklands (ப்ரூக்லாண்ட்ஸ்)", "Mount Pleasant (மவுண்ட் பிளெசண்ட்ஸ்)", "Wellington (வெல்லிங்டன்)"],
  "Kotagiri (கொத்தகிரி)": ["Kotagiri Town (கொத்தகிரி நகரம்)", "Catherine Falls Area (காதரின் பாலைவனம் பகுதி)", "Tanthimalai (தந்திமலை)", "Aravenu (அரவெனு)", "Keystone Campus (கீஸ்டோன் வளாகம்)"],
  "Gudalur (குடலூர்)": ["Gudalur Town (குடலூர் நகரம்)", "Pandalur (பந்தலூர்)", "Cherangode (சேரங்கோடு)", "Glenmorgan (கிளென்மோர்கன்)", "Needle Rock Viewpoint (நீடில் ராக் பார்வையிடும் இடம்)"]
},

"Kanyakumari (கன்னியாகுமரி)": {
  "Nagercoil (நாகர்கோவில்)": ["Nagercoil Town (நாகர்கோவில் நகரம்)", "Vadasery (வடசேரி)", "Kottar (கோட்டார்)", "Simon Nagar (சைமன் நகர்)", "Vadiveeswaram (வடிவீஸ்வரம்)"],
  "Kanyakumari (கன்னியாகுமரி)": ["Kanyakumari Town (கன்னியாகுமரி நகரம்)", "Vivekananda Puram (விவேகானந்தபுரம்)", "Suchindram (சுசீந்திரம்)", "Agastheeswaram (அகஸ்தீஸ்வரம்)", "Chinna Muttom (சின்னமுட்டம்)"],
  "Padmanabhapuram (பத்மனாபபுரம்)": ["Padmanabhapuram Town (பத்மனாபபுரம் நகரம்)", "Thuckalay (துக்கலை)", "Colachel (கோளச்சல்)", "Eraniel (ஏரணியல்)", "Marthandam (மார்த்தாண்டம்)"],
  "Vilavancode (விலவங்கோடு)": ["Vilavancode Town (விலவங்கோடு நகரம்)", "Pechiparai (பேச்சிபாறை)", "Melpuram (மேல்புரம்)", "Kuzhithurai (குழித்துறை)", "Karungal (கருங்கல்)"]
},

"Mayiladuthurai (மயிலாடுதுறை)": {
  "Mayiladuthurai (மயிலாடுதுறை)": ["Mayiladuthurai Town (மயிலாடுதுறை நகரம்)", "Tharangambadi (தரங்கம்பாடி)", "Kuthalam (கூத்தாலம்)", "Sembanarkoil (செம்பனார்கோவில்)", "Vaitheeswaran Koil (வைதீஸ்வரன் கோவில்)"],
  "Sirkazhi (சீர்காழி)": ["Sirkazhi Town (சீர்காழி நகரம்)", "Poompuhar (பூம்புகார்)", "Thiruvengadu (திருவெங்காடு)", "Anaikarai (அனைக்கரை)", "Koilpathu (கோயில்பத்து)"],
  "Tharangambadi (தரங்கம்பாடி)": ["Tharangambadi Town (தரங்கம்பாடி நகரம்)", "Porayar (போரையார்)", "Madavamedu (மாதவமேடு)", "Nalladai (நல்லடைய)", "Melaiyur (மேலையூர்)"],
  "Kuthalam (கூத்தாலம்)": ["Kuthalam Town (கூத்தாலம் நகரம்)", "Thirumanancheri (திருமணஞ்சேரி)", "Ilanthoppu (இளந்தொப்பு)", "Avaniapuram (அவனியாபுரம்)", "Manalmedu (மணல்மேடு)"]
}
  };

  

function getCurrentLocation() {
  document.getElementById("manualForm").style.display = "none";
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(async position => {
      const lat = position.coords.latitude.toFixed(6);
      const lon = position.coords.longitude.toFixed(6);
      const today = new Date().toISOString().split('T')[0];

      // Use Nominatim (OpenStreetMap) reverse geocoding
      const response = await fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${lat}&lon=${lon}`);
      const data = await response.json();

      const village = data.address.village || data.address.town || data.address.city || "Unknown";
      const district = data.address.county || data.address.state_district || "Unknown";

      document.getElementById("locationBox").innerHTML = `
        <strong>Latitude:</strong> ${lat}<br>
        <strong>Longitude:</strong> ${lon}<br>
        <strong>District:</strong> ${district}<br>
        <strong>Village:</strong> ${village}<br>
        <strong>Date:</strong> ${today}
        <br><button onclick="getRecommendation('${lat}', '${lon}', '${district}')">Get Recommendation</button>
      `;
    }, () => {
      alert("Unable to access location.");
    });
  } else {
    alert("Geolocation not supported by your browser.");
  }
}


async function submitManualLocation() {
  const district = document.getElementById("district").value;
  const taluk = document.getElementById("taluk").value;
  const village = document.getElementById("village").value;

  if (!district || !taluk || !village) {
    alert("Please select all fields.");
    return;
  }

  const cleanDistrict = district.split(" (")[0].trim();
  const cleanTaluk = taluk.split(" (")[0].trim();
  const cleanVillage = village.split(" (")[0].trim();
  const today = new Date().toISOString().split('T')[0];

  // Try multiple query formats
  const queries = [
    `${cleanVillage}, ${cleanTaluk}, ${cleanDistrict}, Tamil Nadu, India`,
    `${cleanVillage}, ${cleanDistrict}, Tamil Nadu, India`,
    `${cleanVillage}, Tamil Nadu, India`
  ];

  let lat = "Not found", lon = "Not found";
  let found = false;

  for (const q of queries) {
    try {
      const response = await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(q)}`);
      const data = await response.json();
      if (data && data.length > 0) {
        lat = parseFloat(data[0].lat).toFixed(6);
        lon = parseFloat(data[0].lon).toFixed(6);
        found = true;
        break;
      }
    } catch (error) {
      console.error("Geocoding error:", error);
    }
  }

  document.getElementById("locationBox").innerHTML = `
    <strong>Latitude:</strong> ${lat}<br>
    <strong>Longitude:</strong> ${lon}<br>
    <strong>District:</strong> ${cleanDistrict}<br>
    <strong>Village:</strong> ${cleanVillage}<br>
    <strong>Date:</strong> ${today}
    <br><button onclick="getRecommendation('${lat}', '${lon}', '${cleanDistrict}')">Get Recommendation</button>
  `;

  if (!found) {
    alert("Location not found. Try a nearby place or remove special characters.");
  }
}

    function showManualForm() {
      document.getElementById("manualForm").style.display = "block";
      populateDistricts();
    }

    function populateDistricts() {
      const districtSelect = document.getElementById("district");
      districtSelect.innerHTML = '<option value="">-- Select District --</option>';
      Object.keys(locationData).forEach(district => {
        const option = document.createElement("option");
        option.value = district;
        option.textContent = district;
        districtSelect.appendChild(option);
      });
    }

    function loadTaluks() {
      const district = document.getElementById("district").value;
      const talukSelect = document.getElementById("taluk");
      const villageSelect = document.getElementById("village");

      talukSelect.innerHTML = '<option value="">-- Select Taluk --</option>';
      villageSelect.innerHTML = '<option value="">-- Select Village --</option>';

      if (district && locationData[district]) {
        Object.keys(locationData[district]).forEach(taluk => {
          const option = document.createElement("option");
          option.value = taluk;
          option.textContent = taluk;
          talukSelect.appendChild(option);
        });
      }
    }

    function loadVillages() {
      const district = document.getElementById("district").value;
      const taluk = document.getElementById("taluk").value;
      const villageSelect = document.getElementById("village");

      villageSelect.innerHTML = '<option value="">-- Select Village --</option>';

      if (
        district &&
        taluk &&
        locationData[district] &&
        locationData[district][taluk]
      ) {
        locationData[district][taluk].forEach(village => {
          const option = document.createElement("option");
          option.value = village;
          option.textContent = village;
          villageSelect.appendChild(option);
        });
      }
    }

    function getRecommendation(lat, lon, district) {
      document.getElementById('result').innerText = "Processing...";
      fetch('/get_recommendation', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({latitude: lat, longitude: lon, district: district})
      })
      .then(response => response.json())
      .then(data => {
        if (data.result) {
          document.getElementById('result').innerText = data.result;
        } else if (data.error) {
          document.getElementById('result').innerText = "Error: " + data.error;
        }
      })
      .catch(err => {
        document.getElementById('result').innerText = "Error: " + err;
      });
    }
  </script>
</body>
</html>



